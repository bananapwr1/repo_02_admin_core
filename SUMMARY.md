# üìä –°–≤–æ–¥–∫–∞: Admin Core Bot –≥–æ—Ç–æ–≤ –∫ –¥–µ–ø–ª–æ—é

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:

### 1. **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è**
```python
# ‚ùå –ë–´–õ–û (—Å—Ç—Ä–æ–∫–∞ 17):
SUPABASE_URL = os.getenv("NEXT_PUBLIC_SUPABASE_ANON_KEY")

# ‚úÖ –°–¢–ê–õ–û:
SUPABASE_URL = os.getenv("SUPABASE_URL")
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –û—à–∏–±–∫–∞ "supabase_url is required" –±–æ–ª—å—à–µ –Ω–µ –ø–æ—è–≤–∏—Ç—Å—è!

### 2. **–û—à–∏–±–∫–∞ asyncio –≤ –∫–æ–º–∞–Ω–¥–µ /ai_run**
```python
# ‚ùå –ë–´–õ–û:
await asyncio.to_thread(asyncio.run, generate_new_strategy())

# ‚úÖ –°–¢–ê–õ–û:
await generate_new_strategy()
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ö–æ–º–∞–Ω–¥–∞ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ!

### 3. **–ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Supabase**
```python
# ‚úÖ –î–û–ë–ê–í–õ–ï–ù–û:
supabase: Optional[Client] = None
if SUPABASE_URL and SUPABASE_KEY:
    try:
        supabase = create_client(SUPABASE_URL, SUPABASE_KEY)
        logger.info("‚úÖ Supabase client initialized successfully")
    except Exception as e:
        logger.error(f"‚ùå Failed to initialize Supabase client: {e}")
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ë–æ—Ç –Ω–µ –∫—Ä–∞—à–∏—Ç—Å—è –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è!

### 4. **–û–ø–∞—Å–Ω—ã–π SQL –∑–∞–ø—Ä–æ—Å**
```python
# ‚ùå –ë–´–õ–û (–æ–±–Ω–æ–≤–ª—è–ª –í–°–ï –∑–∞–ø–∏—Å–∏):
supabase.table("strategy_settings").update({"is_active": False}).execute()

# ‚úÖ –°–¢–ê–õ–û (—Ç–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã–µ):
supabase.table("strategy_settings").update({"is_active": False}).eq("is_active", True).execute()
```

## ‚ú® –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:

### –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞:
- `/start` - –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∏ —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥
- `/status` - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π (Telegram ‚úÖ, Supabase ‚úÖ)
- `/ai_run` - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
- `/view_strategies` - –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
- `README.md` - –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ
- `DEPLOY.md` - –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–µ–ø–ª–æ—è
- `CHANGELOG.md` - –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
- `.env.example` - –®–∞–±–ª–æ–Ω –¥–ª—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- `.gitignore` - –ó–∞—â–∏—Ç–∞ —Å–µ–∫—Ä–µ—Ç–æ–≤

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞:

```
/workspace/
‚îú‚îÄ‚îÄ main.py              # –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥ –±–æ—Ç–∞ ‚úÖ
‚îú‚îÄ‚îÄ requirements.txt     # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Å –≤–µ—Ä—Å–∏—è–º–∏ ‚úÖ
‚îú‚îÄ‚îÄ .env                 # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–Ω–µ –≤ git) üîí
‚îú‚îÄ‚îÄ .env.example         # –®–∞–±–ª–æ–Ω –¥–ª—è .env ‚úÖ
‚îú‚îÄ‚îÄ .gitignore          # –ó–∞—â–∏—Ç–∞ —Å–µ–∫—Ä–µ—Ç–æ–≤ ‚úÖ
‚îú‚îÄ‚îÄ README.md           # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è ‚úÖ
‚îú‚îÄ‚îÄ DEPLOY.md           # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –¥–µ–ø–ª–æ—é ‚úÖ
‚îú‚îÄ‚îÄ CHANGELOG.md        # –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π ‚úÖ
‚îî‚îÄ‚îÄ SUMMARY.md          # –≠—Ç–∞ —Å–≤–æ–¥–∫–∞ ‚úÖ
```

## üöÄ –ß—Ç–æ –¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ:

### –í–∞—Ä–∏–∞–Ω—Ç 1: Push –≤ GitHub (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```bash
git add .
git commit -m "Fix: Critical bugs fixed and new features added"
git push origin main
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –≤ Bothost
1. –ó–∞–π–¥–∏—Ç–µ –≤ Bothost
2. –ù–∞–π–¥–∏—Ç–µ –±–æ—Ç–∞ `repo_02_admin_core`
3. –ù–∞–∂–º–∏—Ç–µ "–û–±–Ω–æ–≤–∏—Ç—å" –∏–ª–∏ "–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å"

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –±–æ—Ç—É –≤ Telegram:

```
/start
```
**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
ü§ñ Admin Bot –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–æ—Ä–≥–æ–≤—ã–º–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è–º–∏

–î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:
/start - –ü–æ–∫–∞–∑–∞—Ç—å —ç—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ
/ai_run - –ó–∞–ø—É—Å—Ç–∏—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –Ω–æ–≤–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
/status - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π
/view_strategies - –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
```

```
/status
```
**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
üìä –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã:

‚úÖ Telegram Bot: –ü–æ–¥–∫–ª—é—á–µ–Ω
‚úÖ Supabase: –ü–æ–¥–∫–ª—é—á–µ–Ω (—Å—Ç—Ä–∞—Ç–µ–≥–∏–π: 0)

üîê –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
TELEGRAM_BOT_TOKEN_ADMIN: ‚úÖ
SUPABASE_URL: ‚úÖ
SUPABASE_KEY: ‚úÖ
```

## üéØ –°—Ç–∞—Ç—É—Å:

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å |
|-----------|--------|
| –°–∏–Ω—Ç–∞–∫—Å–∏—Å Python | ‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ |
| –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è | ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ |
| Supabase –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ | ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ |
| Telegram Bot API | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| Async —Ñ—É–Ω–∫—Ü–∏–∏ | ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ |
| SQL –∑–∞–ø—Ä–æ—Å—ã | ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ |
| –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ | ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ |
| –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è | ‚úÖ –ü–æ–ª–Ω–∞—è |
| .gitignore | ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω |

## üí° –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏:

1. **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ Bothost** –¥–æ–ª–∂–Ω—ã –Ω–∞–∑—ã–≤–∞—Ç—å—Å—è –¢–û–ß–ù–û —Ç–∞–∫ –∂–µ:
   - `TELEGRAM_BOT_TOKEN_ADMIN`
   - `SUPABASE_URL`
   - `SUPABASE_KEY_FOR_ADMIN`

2. **–ù–µ –∫–æ–º–º–∏—Ç—å—Ç–µ .env** –≤ GitHub! –û–Ω —É–∂–µ –≤ `.gitignore`

3. **Service Role Key** –∏–∑ Supabase, –ù–ï anon key!

4. –ü–æ—Å–ª–µ push –±–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–∏—Ç—Å—è (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω webhook)

## üéâ –ì–æ—Ç–æ–≤–æ!

–í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã. –ë–æ—Ç –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ!

–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å –±–æ—Ç–∞ –≤ Bothost:
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω –∫ Telegram API
- ‚úÖ –î–µ–ª–∞–µ—Ç —É—Å–ø–µ—à–Ω—ã–µ getUpdates –∑–∞–ø—Ä–æ—Å—ã
- ‚úÖ –ì–æ—Ç–æ–≤ –ø—Ä–∏–Ω–∏–º–∞—Ç—å –∫–æ–º–∞–Ω–¥—ã

---

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –î–µ–ø–ª–æ–π UI-–±–æ—Ç–∞ (`repo_01_ui_bot`) –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.
